{% extends 'base.html' %}

{% block title %} Admin Dashboard {% endblock %}

{% block content %}
    <h2>Admin Dashboard</h2>
    <p>Welcome, Admin! Here you can manage users.</p>

    <h4>Create a New User</h4>
    <!-- Create User Form -->
    <form method="POST" action="{{ url_for('admin_dashboard') }}">
        {{ form.hidden_tag() }}
        <div class="form-group">
            <label for="username">Username</label>
            {{ form.username(class="form-control") }}
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            {{ form.password(class="form-control") }}
        </div>
        <div class="form-group">
            <label for="role">Role</label>
            {{ form.role(class="form-control") }}
        </div>
        <button type="submit" class="btn btn-primary">Create User</button>
    </form>

    <h4>All Users</h4>
    <ul class="list-group">
        {% for user in users %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ user.username }} - {{ user.role }}
                <a href="{{ url_for('edit_user', user_id=user.id) }}" class="btn btn-info btn-sm">Edit</a>
                <a href="{{ url_for('delete_user', user_id=user.id) }}" class="btn btn-danger btn-sm">Delete</a>
            </li>
        {% endfor %}
    </ul>
{% endblock %}
